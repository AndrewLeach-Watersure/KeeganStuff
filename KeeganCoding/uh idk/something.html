<!DOCTYPE html>
<html>
<head>
    <title>Cryophobia</title>
    <style>
        #game-container {
            position: relative;
        }
        #arrow-image, #obstacle-image, #health-bar-image {
            position: absolute;
            top: 0;
            left: 0;
        }
        #obstacle-image {
            top: 700px; /* Adjust the value to position the floor image lower */
        }
        #health-bar-image {
            top: 10px; /* Adjust the value to position the health bar vertically */
            left: 10px; /* Adjust the value to position the health bar horizontally */
            width: 200px; /* Adjust the width of the health bar image */
        }
    </style>
</head>
<body>
    <div id="game-container">
        <img id="arrow-image" src="guy.png" alt="Image Description">
        <img id="obstacle-image" src="floor.png" alt="Obstacle">
        <img id="health-bar-image" src="healthbar.png" alt="Health Bar">
    </div>

    <script>
        var arrowImg = document.getElementById("arrow-image");
        var obstacleImg = document.getElementById("obstacle-image");
        var healthBarImg = document.getElementById("health-bar-image");
        var arrowPositionX = 0;
        var arrowPositionY = 0;
        var stepSize = 10;
        var jumpStrength = 100;
        var gravity = 9.8;
        var keysPressed = {};
        var isOnGround = false;
        var jumpDelay = false;

        window.addEventListener("keydown", function (event) {
            keysPressed[event.key] = true;
        });

        window.addEventListener("keyup", function (event) {
            keysPressed[event.key] = false;
        });

        function moveArrow() {
            // Apply gravity only if not on the ground and not in jump delay
            if (!isOnGround && !jumpDelay) {
                arrowPositionY += gravity;
            }

            // Handle arrow key movements
            if (keysPressed["ArrowUp"] && isOnGround) {
                arrowPositionY -= jumpStrength;
                isOnGround = false;
                jumpDelay = true;
                setTimeout(function () {
                    jumpDelay = false;
                }, 200); // Adjust the delay time as desired
            }
            if (keysPressed["ArrowDown"]) {
                if (!checkCollision(arrowPositionX, arrowPositionY + stepSize)) {
                    arrowPositionY += stepSize;
                }
            }
            if (keysPressed["ArrowLeft"]) {
                if (!checkCollision(arrowPositionX - stepSize, arrowPositionY)) {
                    arrowPositionX -= stepSize;
                }
            }
            if (keysPressed["ArrowRight"]) {
                if (!checkCollision(arrowPositionX + stepSize, arrowPositionY)) {
                    arrowPositionX += stepSize;
                }
            }

            // Check collision with obstacle
            if (checkCollision(arrowPositionX, arrowPositionY)) {
                // Adjust the position to stay above the obstacle
                arrowPositionY = obstacleImg.offsetTop - arrowImg.offsetHeight;
                isOnGround = true;
            }

            arrowImg.style.top = arrowPositionY + "px";
            arrowImg.style.left = arrowPositionX + "px";

            requestAnimationFrame(moveArrow);
        }

        function checkCollision(x, y) {
            var arrowRect = arrowImg.getBoundingClientRect();
            var obstacleRect = obstacleImg.getBoundingClientRect();

            return (
                x < obstacleRect.right &&
                x + arrowRect.width > obstacleRect.left &&
                y < obstacleRect.bottom &&
                y + arrowRect.height > obstacleRect.top
            );
        }

        moveArrow();
    </script>
</body>
</html>